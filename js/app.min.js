(()=>{"use strict";var t,e;t=void 0,e=function(){function t(){return(t=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t}).apply(this,arguments)}var e=function(){function e(t,e){var s=this,n=void 0!==e?e:{};this.version="3.7.11",this.userAgent=window.navigator.userAgent||"no `userAgent` provided by the browser",this.props={customStickyChangeNumber:n.customStickyChangeNumber||null,noStyles:n.noStyles||!1,stickyBitStickyOffset:n.stickyBitStickyOffset||0,parentClass:n.parentClass||"js-stickybit-parent",scrollEl:"string"==typeof n.scrollEl?document.querySelector(n.scrollEl):n.scrollEl||window,stickyClass:n.stickyClass||"js-is-sticky",stuckClass:n.stuckClass||"js-is-stuck",stickyChangeClass:n.stickyChangeClass||"js-is-sticky--change",useStickyClasses:n.useStickyClasses||!1,useFixed:n.useFixed||!1,useGetBoundingClientRect:n.useGetBoundingClientRect||!1,verticalPosition:n.verticalPosition||"top",applyStyle:n.applyStyle||function(t,e){return s.applyStyle(t,e)}},this.props.positionVal=this.definePosition()||"fixed",this.instances=[];var i=this.props,o=i.positionVal,a=i.verticalPosition,l=i.noStyles,r=i.stickyBitStickyOffset,c="top"!==a||l?"":r+"px",p="fixed"!==o?o:"";this.els="string"==typeof t?document.querySelectorAll(t):t,"length"in this.els||(this.els=[this.els]);for(var d=0;d<this.els.length;d++){var u,f=this.els[d],h=this.addInstance(f,this.props);this.props.applyStyle({styles:((u={})[a]=c,u.position=p,u),classes:{}},h),this.manageState(h),this.instances.push(h)}}var s=e.prototype;return s.definePosition=function(){var t;if(this.props.useFixed)t="fixed";else{for(var e=["","-o-","-webkit-","-moz-","-ms-"],s=document.head.style,n=0;n<e.length;n+=1)s.position=e[n]+"sticky";t=s.position?s.position:"fixed",s.position=""}return t},s.addInstance=function(t,e){var s=this,n={el:t,parent:t.parentNode,props:e};if("fixed"===e.positionVal||e.useStickyClasses){this.isWin=this.props.scrollEl===window;var i=this.isWin?window:this.getClosestParent(n.el,n.props.scrollEl);this.computeScrollOffsets(n),this.toggleClasses(n.parent,"",e.parentClass),n.state="default",n.stateChange="default",n.stateContainer=function(){return s.manageState(n)},i.addEventListener("scroll",n.stateContainer)}return n},s.getClosestParent=function(t,e){var s=e,n=t;if(n.parentElement===s)return s;for(;n.parentElement!==s;)n=n.parentElement;return s},s.getTopPosition=function(t){if(this.props.useGetBoundingClientRect)return t.getBoundingClientRect().top+(this.props.scrollEl.pageYOffset||document.documentElement.scrollTop);for(var e=0;e=t.offsetTop+e,t=t.offsetParent;);return e},s.computeScrollOffsets=function(t){var e=t,s=e.props,n=e.el,i=e.parent,o=!this.isWin&&"fixed"===s.positionVal,a="bottom"!==s.verticalPosition,l=o?this.getTopPosition(s.scrollEl):0,r=o?this.getTopPosition(i)-l:this.getTopPosition(i),c=null!==s.customStickyChangeNumber?s.customStickyChangeNumber:n.offsetHeight,p=r+i.offsetHeight;e.offset=o?0:l+s.stickyBitStickyOffset,e.stickyStart=a?r-e.offset:0,e.stickyChange=e.stickyStart+c,e.stickyStop=a?p-(n.offsetHeight+e.offset):p-window.innerHeight},s.toggleClasses=function(t,e,s){var n=t,i=n.className.split(" ");s&&-1===i.indexOf(s)&&i.push(s);var o=i.indexOf(e);-1!==o&&i.splice(o,1),n.className=i.join(" ")},s.manageState=function(e){var s=this,n=e,i=n.props,o=n.state,a=n.stateChange,l=n.stickyStart,r=n.stickyChange,c=n.stickyStop,p=i.positionVal,d=i.scrollEl,u=i.stickyClass,f=i.stickyChangeClass,h=i.stuckClass,m=i.verticalPosition,y="bottom"!==m,g=i.applyStyle,v=i.noStyles,k=this.isWin&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame)||function(t){t()},S=this.isWin?window.scrollY||window.pageYOffset:d.scrollTop,C=y&&S<=l&&("sticky"===o||"stuck"===o),b=c<=S&&"sticky"===o;l<S&&S<c&&("default"===o||"stuck"===o)?n.state="sticky":C?n.state="default":b&&(n.state="stuck");var w=r<=S&&S<=c;S<r/2||c<S?n.stateChange="default":w&&(n.stateChange="sticky"),o===n.state&&a===n.stateChange||k((function(){var o,a,l,r,c,d,y={sticky:{styles:((o={position:p,top:"",bottom:""})[m]=i.stickyBitStickyOffset+"px",o),classes:((a={})[u]=!0,a)},default:{styles:((l={})[m]="",l),classes:{}},stuck:{styles:t(((r={})[m]="",r),"fixed"===p&&!v||!s.isWin?{position:"absolute",top:"",bottom:"0"}:{}),classes:((c={})[h]=!0,c)}};"fixed"===p&&(y.default.styles.position="");var k=y[n.state];k.classes=((d={})[h]=!!k.classes[h],d[u]=!!k.classes[u],d[f]=w,d),g(k,e)}))},s.applyStyle=function(t,e){var s=t.styles,n=t.classes,i=e.el,o=e.props,a=i.style,l=o.noStyles,r=i.className.split(" ");for(var c in n)if(n[c])-1===r.indexOf(c)&&r.push(c);else{var p=r.indexOf(c);-1!==p&&r.splice(p,1)}if(i.className=r.join(" "),s.position&&(a.position=s.position),!l)for(var d in s)a[d]=s[d]},s.update=function(t){var e=this;return void 0===t&&(t=null),this.instances.forEach((function(s){if(e.computeScrollOffsets(s),t)for(var n in t)s.props[n]=t[n]})),this},s.removeInstance=function(t){var e,s,n=t.el,i=t.props;this.applyStyle({styles:((e={position:""})[i.verticalPosition]="",e),classes:((s={})[i.stickyClass]="",s[i.stuckClass]="",s)},t),this.toggleClasses(n.parentNode,i.parentClass)},s.cleanup=function(){for(var t=0;t<this.instances.length;t+=1){var e=this.instances[t];e.stateContainer&&e.props.scrollEl.removeEventListener("scroll",e.stateContainer),this.removeInstance(e)}this.manageState=!1,this.instances=[]},e}();return function(t,s){return new e(t,s)}},"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).stickybits=e();const s=document.querySelector(".header__burger"),n=document.querySelector(".header__main");s.addEventListener("click",(()=>{s.classList.toggle("header__burger_active"),n.classList.toggle("header__main_active"),document.body.classList.toggle("lock")})),document.querySelector(".slider-stocks")&&new Swiper(".slider-stocks",{speed:650,autoHeight:!0,loop:!0,slidesPerView:1,effect:"fade",fadeEffect:{crossFade:!0},navigation:{prevEl:".stocks__prev",nextEl:".stocks__next"},preloadImages:!1,lazy:{loadPrevNext:!0}}),document.addEventListener("click",(function(t){const e=t.target;if(e.closest(".add-to-cart")){const t=e.closest(".add-to-cart"),s=t.classList.contains("add-to-cart_active")?0:400;t.classList.add("add-to-cart_active"),setTimeout((()=>{u(document.querySelector("#add_popup"))}),s)}})),new class{constructor(t){this.type=t}init(){this.оbjects=[],this.daClassname="_dynamic_adapt_",this.nodes=[...document.querySelectorAll("[data-da]")],this.nodes.forEach((t=>{const e=t.dataset.da.trim().split(","),s={};s.element=t,s.parent=t.parentNode,s.destination=t.closest(`${e[0].trim()}`)||document.querySelector(`${e[0].trim()}`),s.breakpoint=e[1]?e[1].trim():"767",s.place=e[2]?e[2].trim():"last",s.index=this.indexInParent(s.parent,s.element),this.оbjects.push(s)})),this.arraySort(this.оbjects),this.mediaQueries=this.оbjects.map((({breakpoint:t})=>`(${this.type}-width: ${t}px),${t}`)).filter(((t,e,s)=>s.indexOf(t)===e)),this.mediaQueries.forEach((t=>{const e=t.split(","),s=window.matchMedia(e[0]),n=e[1],i=this.оbjects.filter((({breakpoint:t})=>t===n));s.addEventListener("change",(()=>{this.mediaHandler(s,i)})),this.mediaHandler(s,i)}))}mediaHandler(t,e){t.matches?e.forEach((t=>{t.index=this.indexInParent(t.parent,t.element),this.moveTo(t.place,t.element,t.destination)})):e.forEach((({parent:t,element:e,index:s})=>{e.classList.contains(this.daClassname)&&this.moveBack(t,e,s)}))}moveTo(t,e,s){e.classList.add(this.daClassname),"last"===t||t>=s.children.length?s.append(e):"first"!==t?s.children[t].before(e):s.prepend(e)}moveBack(t,e,s){e.classList.remove(this.daClassname),void 0!==t.children[s]?t.children[s].before(e):t.append(e)}indexInParent(t,e){return[...t.children].indexOf(e)}arraySort(t){"min"===this.type?t.sort(((t,e)=>t.breakpoint===e.breakpoint?t.place===e.place?0:"first"===t.place||"last"===e.place?-1:"last"===t.place||"first"===e.place?1:t.place-e.place:t.breakpoint-e.breakpoint)):t.sort(((t,e)=>t.breakpoint===e.breakpoint?t.place===e.place?0:"first"===t.place||"last"===e.place?1:"last"===t.place||"first"===e.place?-1:e.place-t.place:e.breakpoint-t.breakpoint))}}("max").init();let i=document.querySelector(".contacts__map");function o(){"undefined"!=typeof ymaps&&i&&(document.getElementById("ymap"),ymaps.ready((function(){let t=new ymaps.Map("ymap",{center:[59.96502956414705,30.278920499999966],zoom:17,controls:["zoomControl"],behaviors:["drag"]}),e=new ymaps.Placemark([59.96502956414705,30.278920499999966],{hintContent:"ALKO CLUB",balloonContent:"ALKO CLUB"},{preset:"islands#icon",iconColor:"#633389"});t.geoObjects.add(e)})))}function a(){if(!i)return;let t=i.getBoundingClientRect().top,e=window.pageYOffset,s=t+e;e+window.innerHeight>s&&(function(){let t=document.createElement("script");t.src="https://api-maps.yandex.ru/2.1/?lang=ru_RU",document.body.appendChild(t),t.onload=o}(),window.removeEventListener("scroll",a))}window.addEventListener("scroll",a),a();const l=document.querySelectorAll(".popup-link"),r=document.querySelector("body"),c=document.querySelectorAll(".lock-padding");let p=!0;if(l.length>0)for(let t=0;t<l.length;t++){const e=l[t];e.addEventListener("click",(function(t){const s=e.getAttribute("href").replace("#","");u(document.getElementById(s)),t.preventDefault()}))}const d=document.querySelectorAll(".close-popup");if(d.length>0)for(let t=0;t<d.length;t++){const e=d[t];e.addEventListener("click",(function(t){f(e.closest(".popup")),t.preventDefault()}))}function u(t){if(t&&p){const e=document.querySelector(".popup._open");e?f(e,!1):function(){const t=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px";if(c.length>0)for(let e=0;e<c.length;e++)c[e].style.paddingRight=t;r.style.paddingRight=t,r.classList.add("lock"),p=!1,setTimeout((function(){p=!0}),400)}(),t.classList.add("_open"),t.addEventListener("click",(function(t){t.target.closest(".popup__content")||f(t.target.closest(".popup"))}))}}function f(t,e=!0){p&&(t.classList.remove("_open"),e&&(setTimeout((function(){if(c.length>0)for(let t=0;t<c.length;t++)c[t].style.paddingRight="0px";r.style.paddingRight="0px",r.classList.remove("lock")}),400),p=!1,setTimeout((function(){p=!0}),400)))}document.addEventListener("keydown",(function(t){27===t.which&&f(document.querySelector(".popup._open"))}));let h=document.querySelectorAll("input[data-tel-input]");for(let t of h)t.addEventListener("keydown",v),t.addEventListener("input",g,!1),t.addEventListener("paste",y,!1);function m(t){return t.value.replace(/\D/g,"")}function y(t){let e=t.target,s=m(e),n=t.clipboardData||window.clipboardData;if(n){let t=n.getData("Text");if(/\D/g.test(t))return void(e.value=s)}}function g(t){let e=t.target,s=m(e),n=e.selectionStart,i="";if(!s)return e.value="";if(e.value.length==n){if(["7","8","9"].indexOf(s[0])>-1){"9"==s[0]&&(s="7"+s);let t="8"==s[0]?"8":"+7";i=e.value=t+" ",s.length>1&&(i+="("+s.substring(1,4)),s.length>=5&&(i+=") "+s.substring(4,7)),s.length>=8&&(i+="-"+s.substring(7,9)),s.length>=10&&(i+="-"+s.substring(9,11))}else i="+"+s.substring(0,16);e.value=i}else t.data&&/\D/g.test(t.data)&&(e.value=s)}function v(t){let e=t.target.value.replace(/\D/g,"");8==t.keyCode&&1==e.length&&(t.target.value="")}const k=document.querySelectorAll("form");for(var S=0;S<k.length;S++)k[S].addEventListener("submit",C);async function C(t){t.preventDefault(),function(t){let e=t.querySelectorAll("._req");for(var s=0;s<e.length;s++){const t=e[s];(n=t).classList.remove("_error"),n.parentElement.classList.remove("_error"),t.classList.contains("_email")?emailTest(t)||b(t):""==t.value&&b(t)}var n}(this)}function b(t){t.classList.add("_error"),t.parentElement.classList.add("_error")}stickybits(".sidebar__inner",{stickyBitStickyOffset:20})})();